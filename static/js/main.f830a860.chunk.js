(this["webpackJsonprif-identity-manager"]=this["webpackJsonprif-identity-manager"]||[]).push([[0],{282:function(n){n.exports=JSON.parse('{"a":"0.0.1"}')},289:function(n){n.exports=JSON.parse('{"ethrDid":"0xdca7ef03e98e0dc2b855be647c39abe984fcf21b","rpcUrl":"https://mainnet.infura.io/v3/8043bb2cf99347b1bfadfb233c5325c0","tokens":[]}')},290:function(n){n.exports=JSON.parse('{"ethrDid":"0xdca7ef03e98e0dc2b855be647c39abe984fcf21b","rpcUrl":"https://did.rsk.co:4444","tokens":["0x2acc95758f8b5f583470ba265eb685a8f45fc9d5"]}')},291:function(n){n.exports=JSON.parse('{"ethrDid":"0xdca7ef03e98e0dc2b855be647c39abe984fcf21b","rpcUrl":"https://did.testnet.rsk.co:4444","tokens":["0x19f64674d8a5b4e652319f5e239efd3bc969a1fe"]}')},292:function(n){n.exports=JSON.parse('{"ethrDid":"","rpcUrl":"http://127.0.0.1:7545","tokens":[]}')},296:function(n){n.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]')},303:function(n,e,t){},330:function(n,e){},370:function(n,e){},372:function(n,e){},381:function(n,e){},383:function(n,e){},408:function(n,e){},410:function(n,e){},411:function(n,e){},416:function(n,e){},418:function(n,e){},425:function(n,e){},427:function(n,e){},438:function(n,e){},440:function(n,e){},452:function(n,e){},455:function(n,e){},465:function(n,e){},522:function(n,e){},525:function(n,e){},589:function(n,e){},609:function(n,e){},678:function(n,e,t){"use strict";t.r(e);var c=t(0),r=t(1),a=t.n(r),i=t(105),o=t.n(i),s=(t(303),t(282)),d=t(16),u=t(56),l=t(11),b=t(12);function j(){var n=Object(l.a)(["\n  border-radius: 5px;\n  padding: 10px 50px;\n  font-size: 18px;\n  border: none;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n"]);return j=function(){return n},n}var h,f=b.a.button(j()),p=t.p+"static/media/rif-id-manager.7afc1cbb.svg",O=function(n){var e=n.handleLogin;return Object(c.jsx)("div",{className:"container login-screen",children:Object(c.jsxs)("div",{className:"column",children:[Object(c.jsx)("img",{src:p,alt:"RIF identity Manager"}),Object(c.jsx)("h1",{children:"Sign in"}),Object(c.jsx)(f,{className:"blue",onClick:e,children:"Connect your wallet"}),Object(c.jsxs)("p",{children:["Don't have a wallet? ",Object(c.jsx)("a",{href:"https://developers.rsk.co/wallet/use/",target:"_blank",rel:"noopener noreferrer",children:"Download here"})]})]})})},x=t(7),v=t(31),g=t.n(v),m=function(n){return new g.a(n).net_version()},y=function(n){return new g.a(n).accounts()},w=function(n){return Promise.all([y(n).then((function(n){return n[0]})),m(n).then((function(n){return parseInt(n)}))])},k=t(287),C=t.n(k),N=t(288),I=t.n(N),S=t(289),D=t(290),T=t(291),F=t(292);!function(n){n.ETHR_DID_CONTRACT="ethrDid",n.RPC_URL="rpcUrl",n.TOKENS="tokens"}(h||(h={}));var A=function(n,e){switch(n){case 1:return S[e];case 30:return D[e];case 31:return T[e];case 5777:return F[e];default:throw new Error("No setting for chainId ".concat(n))}},R=function(n){return A(n,h.ETHR_DID_CONTRACT)},L=function(n){return A(n,h.RPC_URL)},E=new C.a({cachedProvider:!1,providerOptions:{walletconnect:{package:I.a,options:{rpc:{1:L(1),30:L(30),31:L(31),5777:L(5777)}}}},supportedChains:[1,30,31,5777]}),K=t(57),P=Object(K.a)({name:"identity",initialState:{address:"",chainId:null},reducers:{changeAccount:function(n,e){var t=e.payload.address;n.address=t},changeChainId:function(n,e){var t=e.payload.chainId;n.chainId=t}}}),J=P.actions,U=J.changeAccount,M=J.changeChainId,V=P.reducer,z=t(164),_=Object(K.a)({name:"ethrdid",initialState:{didDocument:{"@context":"https://w3id.org/did/v1",id:"",publicKey:[],authentication:[]}},reducers:{resolveDid:function(n,e){var t=e.payload.data;n.didDocument=t}}}),B=_.actions.resolveDid,H=_.reducer,W=t(294),q=t(295),G=function(n,e){var t="".concat(n.slice(0,6),"...").concat(n.slice(n.length-4));switch(e){case 1:return"did:eth:".concat(t);case 30:return"did:rsk:".concat(t);case 31:return"did:rsk:testnet:".concat(t);default:return t}},Q=function(n){if(-1===n.lastIndexOf(":"))return"".concat(n.slice(0,6),"...").concat(n.slice(n.length-4));var e=n.lastIndexOf(":");return"".concat(n.slice(0,e)).concat(n.slice(e,e+7),"...").concat(n.slice(n.length-4))},X={networks:[{name:"mainnet",registry:R(1),rpcUrl:L(1)},{name:"rsk",registry:R(30),rpcUrl:L(30)},{name:"rsk:testnet",registry:R(31),rpcUrl:L(31)},{name:"development",registry:R(5777),rpcUrl:L(5777)}]},Y=function(n){return function(e){return new Promise((function(t){w(n).then((function(n){var c=Object(x.a)(n,2),r=c[0],a=c[1],i=new q.a(Object(W.getResolver)(X)),o=function(n,e,t){switch(e){case 1:return"did:".concat(t?"ethr:":"","mainnet:").concat(n);case 30:return"did:".concat(t?"ethr:":"","rsk:").concat(n);case 31:return"did:".concat(t?"ethr:":"","rsk:testnet:").concat(n);case 5777:return"did:".concat(t?"ethr:":"","development:").concat(n);default:return n}}(r,a,!0);i.resolve(o).then((function(n){return t(e(B({data:n})))}))}))}))}},Z=t(162),$=t.n(Z),nn=t(106),en=t.n(nn),tn=t(296),cn={address:"",name:null,symbol:null,balance:0},rn=Object(K.a)({name:"tokens",initialState:{tokens:[]},reducers:{addTokenData:function(n,e){var t=e.payload.data,c=Object(d.a)(Object(d.a)({},t),{},{address:t.address.toLowerCase()});0===n.tokens.filter((function(n){return n.address===c.address})).length?n.tokens.push(Object(d.a)(Object(d.a)({},cn),c)):n.tokens=n.tokens.map((function(n){return n.address===c.address?Object(d.a)(Object(d.a)({},n),c):n}))}}}),an=rn.actions.addTokenData,on=rn.reducer,sn="id-manager-settings",dn=function(n,e){var t=localStorage.getItem("".concat(sn,"-").concat(n));return t&&JSON.parse(t)[e]||null},un=function(n,e,t){return function(c){var r=function(n){return A(n,h.TOKENS)}(parseInt(e)),a=dn(e,"TOKEN")?dn(e,"TOKEN"):[],i=r.concat(a);Array.isArray(i)&&i.map((function(e){c(ln(n,e,t))}))}},ln=function(n,e,t,c){return function(r){var a=new g.a(n),i=new $.a(a)(tn).at(e);a.getCode(e).then((function(n){if("0x0"===n)return c&&c(new Error("The address is not a contract"));i.symbol().then((function(n){return n[0]})).then((function(n){return r(an({data:{address:e,symbol:n}}))})).catch((function(n){return console.log("symbol",n.message)})),i.name().then((function(n){return n[0]})).then((function(n){return r(an({data:{address:e,name:n}}))})).catch((function(n){return console.log("name",n.message)})),i.decimals().then((function(n){return n[0]})).then((function(n){i.balanceOf(t).then((function(n){return n[0]})).then((function(e){return e.div(new en.a(10).pow(n)).toNumber()})).then((function(n){0!==n&&r(an({data:{address:e,balance:n}})),c&&c(!0)})).catch((function(n){return console.log("balanceOf error",n)}))})).catch((function(){return c&&c(new Error("The address is a contract but not ERC20 or ERC721 token."))}))}))}},bn=function(n,e,t,c){return function(r){return new Promise((function(a,i){r(ln(n,t,e,(function(n){return n instanceof Error?i(n):a(function(n,e,t){var c=localStorage.getItem("".concat(sn,"-").concat(n)),r=c?JSON.parse(c):{};r[e]||(r[e]=[]),r[e].push(t),localStorage.setItem("".concat(sn,"-").concat(n),JSON.stringify(r))}(c.toString(),"TOKEN",t))})))}))}},jn=Object(u.b)(null,(function(n){return{handleLogin:function(e){return n(function(n){return function(e){return E.connect().then((function(t){n.setProvider(t),w(t).then((function(n){var c=Object(x.a)(n,2),r=c[0],a=c[1];e(U({address:r})),e(M({chainId:parseInt(a)})),e(Y(t)),e(un(t,a,r))}))})).catch((function(n){return console.log("rLogin Error",n)}))}}(e))}}}),(function(n,e,t){return Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},n),e),t),{},{handleLogin:function(){return e.handleLogin(t.context)}})}))(O),hn=t.p+"static/media/rif-id-manager-gray.d70174d8.svg";function fn(){var n=Object(l.a)(['\n  position: relative;\n  margin-left: 8px;\n  padding-left: 3px;\n  &:before {\n    position: absolute;\n    right: 98%;\n    top: 45%;\n    transform: translate(-5px, -50%);\n    content: "";\n    display: block;\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    background: ',";\n  }\n"]);return fn=function(){return n},n}function pn(){var n=Object(l.a)(["\n  display: inline-block;\n  border: 1px solid #fff;\n  border-radius: 25px;\n  padding:6px 18px !important;\n  color: #6C6B6C;\n  opacity: 1 !important;\n  border: 1px solid #CCCACD;\n  width: auto;\n"]);return pn=function(){return n},n}var On=b.a.span(pn()),xn=b.a.div(fn(),(function(n){return n.connected?"#40d512":"#DC3545"})),vn=function(n){switch(n){case 1:return"Ethereum";case 30:return"RSK Mainnet";case 31:return"RSK Testnet";default:return"Network Id ".concat(n.toString())}},gn=function(n){var e=n.connected,t=n.name,r=n.chainId;return Object(c.jsx)(On,{className:e?"connected":"disconnected",children:Object(c.jsx)(xn,{connected:e,children:r?vn(r):t})})};function mn(){var n=Object(l.a)(["\n  position: relative;\n  display: inline-block;\n  cursor: help;\n  margin-right: 20px;\n  &:hover + "," {\n    visibility: visible;\n    opacity: 1;\n  }\n"]);return mn=function(){return n},n}function yn(){var n=Object(l.a)(["\n  visibility: hidden;\n  position: absolute;\n  background-color: #555;\n  color: #fff;\n  text-align: center;\n  padding: 5px 10px;\n  border-radius: 6px;\n  z-index: 1;\n  opacity: 0;\n  transition: opacity .6s;\n  max-width: 250px;\n  word-break: break-all;\n"]);return yn=function(){return n},n}var wn=b.a.span(yn()),kn=b.a.span(mn(),wn),Cn=function(n){var e=n.hoverContent,t=n.children;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(kn,{children:t}),Object(c.jsx)(wn,{className:"hover-content",children:e})]})},Nn=function(n){var e=n.did,t=n.chainId;return Object(c.jsxs)("header",{className:"container",children:[Object(c.jsxs)("div",{className:"column branding",children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)("img",{src:hn,alt:"RIF Id Manager"})}),e&&Object(c.jsx)("h1",{className:"persona",children:Object(c.jsx)(Cn,{hoverContent:e,children:Q(e)})})]}),Object(c.jsx)("div",{className:"column network",children:t&&Object(c.jsx)(gn,{connected:!0,chainId:t})})]})},In=function(){return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"column",children:Object(c.jsxs)("ul",{className:"navigation",children:[Object(c.jsx)("li",{className:"active",children:"Dashboard"}),Object(c.jsx)("li",{children:"Data Vault"}),Object(c.jsx)("li",{children:"Request Credentials"}),Object(c.jsx)("li",{children:"My Dapps"})]})})})};function Sn(){var n=Object(l.a)(["\n  padding: 25px 50px;\n"]);return Sn=function(){return n},n}function Dn(){var n=Object(l.a)(["\n  float: right;\n"]);return Dn=function(){return n},n}function Tn(){var n=Object(l.a)(["\n  display: inline-block;\n  font-weight: 600 !important;\n  font-size: 16px;\n  line-height: 19px;\n  color: #50555c;\n  margin: 0;\n  padding: 0;\n"]);return Tn=function(){return n},n}function Fn(){var n=Object(l.a)(["\n  padding: 10px 25px 10px 25px;\n  border-bottom: 1px solid #F2F2F2;\n  margin: 0 0 15px 0;\n"]);return Fn=function(){return n},n}function An(){var n=Object(l.a)(["\n  background: #FFFFFF;\n  box-shadow: 0px 4px 20px rgba(145, 145, 145, 0.1);\n  border-radius: 20px;\n  padding: 10px 0;\n"]);return An=function(){return n},n}var Rn=b.a.div(An()),Ln=b.a.div(Fn()),En=b.a.p(Tn()),Kn=b.a.div(Dn()),Pn=b.a.div(Sn()),Jn=function(n){var e=n.title,t=n.headerRight,r=n.children,a=n.className;return Object(c.jsxs)(Rn,{className:"panel ".concat(a),children:[e&&Object(c.jsxs)(Ln,{className:"panel-header",children:[Object(c.jsx)(En,{className:"panel-title",children:e}),t&&Object(c.jsx)(Kn,{className:"panel-right",children:t})]}),Object(c.jsx)(Pn,{className:"panel-content",children:r})]})},Un=a.a.createContext(null),Mn=function(n){var e=n.children,t=Object(r.useState)(null),a=Object(x.a)(t,2),i=a[0],o=a[1],s={provider:i,setProvider:function(n){return o(n)}};return Object(c.jsx)(Un.Provider,{value:s,children:e})},Vn=t(35);function zn(){var n=Object(l.a)(["\n  background: #ffffff;\n  padding: 0 20px 15px 20px;\n"]);return zn=function(){return n},n}function _n(){var n=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  right: 10px;\n  color: #C4C4C4;\n  font-size: 2em;\n  border: none;\n  background: none;\n  cursor: pointer;\n  font-weight: 300;\n  &:after {\n    content: '\\d7';\n  }\n"],["\n  position: absolute;\n  top: 0;\n  right: 10px;\n  color: #C4C4C4;\n  font-size: 2em;\n  border: none;\n  background: none;\n  cursor: pointer;\n  font-weight: 300;\n  &:after {\n    content: '\\\\d7';\n  }\n"]);return _n=function(){return n},n}function Bn(){var n=Object(l.a)(["\n  background: #F2F2F2;\n  font-size: 16px;\n  padding: 15px 0\n"]);return Bn=function(){return n},n}function Hn(){var n=Object(l.a)(["\n  position: relative;\n  width: 100%;\n  max-width: 500px;\n  background: #ffffff;\n  border-radius: 20px;\n  overflow: hidden;\n"]);return Hn=function(){return n},n}function Wn(){var n=Object(l.a)(["\nfont-family: Rubik;\ntransition: opacity 0.1s ease-in-out;\ntext-align: center;\nposition: fixed;\nwidth: 100vw;\nheight: 100vh;\nmargin-left: -50vw;\ntop: 0;\nleft: 50%;\nz-index: 2;\nwill-change: opacity;\nbackground-color: rgba(0, 0, 0, 0.4);\nopacity: 1;\nvisibility: ",";\npointer-events: ",";\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n\n& * {\n  box-sizing: border-box !important;\n}\n"]);return Wn=function(){return n},n}var qn=b.a.div(Wn(),(function(n){return n.show?"visible":"hidden"}),(function(n){return n.show?"auto":"none"})),Gn=b.a.div(Hn()),Qn=b.a.div(Bn()),Xn=b.a.button(_n()),Yn=b.a.div(zn()),Zn=function(n){var e=n.children,t=n.show,r=n.title,a=n.onClose;return t?Object(c.jsx)(qn,{show:t,children:Object(c.jsxs)(Gn,{children:[Object(c.jsxs)(Qn,{children:[r,Object(c.jsx)(Xn,{onClick:a})]}),Object(c.jsx)(Yn,{className:"modal-content",children:e})]})}):Object(c.jsx)(c.Fragment,{})},$n=function(n){var e=n.delegates,t=n.chainId,a=n.addDelegate,i=n.isOwner,o=Object(r.useState)(!1),s=Object(x.a)(o,2),d=s[0],u=s[1],l=Object(r.useState)(!1),b=Object(x.a)(l,2),j=b[0],h=b[1],p=Object(r.useState)(""),O=Object(x.a)(p,2),v=O[0],g=O[1],m=Object(r.useState)(null),y=Object(x.a)(m,2),w=y[0],k=y[1],C=Object(r.useContext)(Un),N=function(){k(null),h(!1)};return Object(c.jsxs)("div",{className:"column",children:[Object(c.jsx)("h2",{children:"Controllers"}),Object(c.jsx)("ul",{className:"value",children:null===e||void 0===e?void 0:e.map((function(n){return Object(c.jsx)("li",{children:Object(c.jsx)(Cn,{hoverContent:n.publicKey,children:Q(n.publicKey.slice(n.publicKey.lastIndexOf(":")+1,n.publicKey.indexOf("#")))})},n.publicKey)}))}),i&&Object(c.jsx)(f,{onClick:function(){return u(!0)},children:"Add Delegate"}),Object(c.jsx)(Zn,{show:d,title:"Delegate Identity",onClose:function(){j||(u(!1),N())},children:Object(c.jsxs)("div",{className:"delegate-identity",children:[Object(c.jsx)("p",{children:"Controllers can manage the identity but they are not the owners. Only the owners can transfer identities."}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Delegate to: "}),Object(c.jsx)("input",{type:"text",value:v,onChange:function(n){return g(n.target.value)},placeholder:"address",className:"line",disabled:j})]}),Object(c.jsx)(f,{className:"blue",disabled:j,onClick:function(){return N(),Object(Vn.isValidAddress)(v)?v===v.toLowerCase()||Object(Vn.isValidChecksumAddress)(v,t)?0!==(null===e||void 0===e?void 0:e.filter((function(n){return-1!==n.publicKey.indexOf(v)})).length)?(N(),k("This address is already a delegate.")):(h(!0),void a(null===C||void 0===C?void 0:C.provider,v).then((function(){u(!1),g(""),N()})).catch((function(n){N(),k(n.message)}))):(N(),k("Checksum is incorrect.")):(N(),k("Invalid Address"))},children:"Add controller"}),w&&Object(c.jsx)("p",{children:w})]})})]})},ne=function(n){var e=n.owner,t=n.isOwner,a=n.chainId,i=n.changeOwner,o=Object(r.useState)(!1),s=Object(x.a)(o,2),d=s[0],u=s[1],l=Object(r.useState)(""),b=Object(x.a)(l,2),j=b[0],h=b[1],p=Object(r.useState)(!1),O=Object(x.a)(p,2),v=O[0],g=O[1],m=Object(r.useState)(null),y=Object(x.a)(m,2),w=y[0],k=y[1],C=Object(r.useContext)(Un),N=function(){k(null),g(!1)};return Object(c.jsxs)("div",{className:"column",children:[Object(c.jsx)("h2",{children:"Owner"}),Object(c.jsx)("p",{className:"value",children:e&&Object(c.jsx)(Cn,{hoverContent:e,children:Q(e)})}),t&&Object(c.jsx)(f,{onClick:function(){return u(!d)},children:"Change Owner"}),Object(c.jsx)(Zn,{show:d,title:"Transfer Identity",onClose:function(){v||(u(!1),N())},children:Object(c.jsxs)("div",{className:"change-owner",children:[Object(c.jsx)("p",{children:"Be aware that once you transfer the identity, you will lose ownership and can no longer manage the identity."}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Transfer to: "}),Object(c.jsx)("input",{type:"text",value:j,onChange:function(n){return h(n.target.value)},placeholder:"address",className:"line",disabled:v})]}),Object(c.jsx)(f,{className:"blue",disabled:v,onClick:function(){return N(),Object(Vn.isValidAddress)(j)?j===j.toLowerCase()||Object(Vn.isValidChecksumAddress)(j,a)?(g(!0),void i(null===C||void 0===C?void 0:C.provider,j).then((function(){u(!1),h(""),N()})).catch((function(n){N(),k(n.message)}))):(N(),k("Checksum is incorrect.")):(N(),k("Invalid Address"))},children:"Transfer"}),w&&Object(c.jsx)("p",{children:w})]})})]})},ee=function(n){var e=n.address,t=n.chainId,a=n.owner,i=n.delegates,o=n.changeOwner,s=n.addDelegate,d=Object(r.useState)(!1),u=Object(x.a)(d,2),l=u[0],b=u[1],j=Object(c.jsx)("button",{className:"advancedToggle",onClick:function(){return b(!l)},children:l?"Basic":"Advanced"}),h=(null===e||void 0===e?void 0:e.toLowerCase())===(null===a||void 0===a?void 0:a.toLowerCase());return e&&t?Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"column",children:Object(c.jsx)(Jn,{title:"Identity information",className:"identity-information",headerRight:j,children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"column",children:[Object(c.jsx)("h2",{children:"Identity Address"}),Object(c.jsx)("p",{className:"value",children:Object(c.jsx)(Cn,{hoverContent:e,children:G(e,t)})})]}),l&&Object(c.jsxs)(c.Fragment,{children:[a&&Object(c.jsx)(ne,{isOwner:h,owner:a,changeOwner:o}),i&&Object(c.jsx)($n,{isOwner:h,delegates:i,addDelegate:s})]})]})})})}):Object(c.jsx)(c.Fragment,{})},te=function(n){if(!n)return n;var e=parseFloat(n.toFixed(8));return e===n?n:Object(c.jsx)(Cn,{hoverContent:n,children:e})},ce=function(n){var e=n.token;return Object(c.jsxs)("div",{className:"token",children:[Object(c.jsx)("div",{className:"heading-symbol",children:e.name||"Custom token: ".concat(Q(e.address))}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"balance",children:te(e.balance)}),Object(c.jsx)("span",{className:"symbol",children:e.symbol})]})]})},re=function(n){var e=n.tokens,t=n.addCustomToken,a=Object(r.useState)(!1),i=Object(x.a)(a,2),o=i[0],s=i[1],d=Object(r.useState)(""),u=Object(x.a)(d,2),l=u[0],b=u[1],j=Object(r.useState)(!1),h=Object(x.a)(j,2),p=h[0],O=h[1],v=Object(r.useState)(null),g=Object(x.a)(v,2),m=g[0],y=g[1],w=Object(r.useContext)(Un),k=function(){s(!o),b("")};return Object(c.jsxs)(Jn,{title:"Identity Balance",className:"identity-balance",headerRight:Object(c.jsx)("button",{onClick:k,className:"circle-plus",children:"+"}),children:[null===e||void 0===e?void 0:e.map((function(n){return Object(c.jsx)(ce,{token:n},n.address)})),Object(c.jsxs)(Zn,{show:o,title:"Add token",onClose:k,children:[Object(c.jsx)("p",{children:"Add an ERC20 or ERC721 token to the dashboard."}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Token to Add:"}),Object(c.jsx)("input",{type:"text",value:l,onChange:function(n){return b(n.target.value)},placeholder:"contract address",className:"line",disabled:p})]}),Object(c.jsx)(f,{onClick:function(){if(O(!0),y(null),!Object(Vn.isValidAddress)(l))return O(!1),y("Not a valid address!");t(null===w||void 0===w?void 0:w.provider,l).then((function(){O(!1),s(!1)})).catch((function(n){O(!1),y(n.message)}))},className:"blue",disabled:p,children:"Add Token"}),m&&Object(c.jsx)("p",{children:m})]})]})},ae=function(n){var e=n.chainId,t=n.address,r=n.owner,a=n.delegates,i=n.tokens,o=n.changeOwner,s=n.addDelegate,d=n.addCustomToken;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Nn,{chainId:e,did:t}),Object(c.jsxs)("div",{className:"content dashboard",children:[Object(c.jsx)(In,{}),Object(c.jsx)(ee,{address:t,chainId:e,owner:r,delegates:a,changeOwner:o,addDelegate:s}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"column",children:Object(c.jsx)(re,{tokens:i,addCustomToken:d})}),Object(c.jsx)("div",{className:"column",children:"\xa0"})]})]})]})},ie=function(n){var e=n.publicKey.filter((function(n){return n.id.endsWith("#controller")}))[0];return"undefined"===typeof e?null:e.ethereumAddress},oe=Object(u.b)((function(n){var e;return{address:n.identity.address,chainId:n.identity.chainId,tokens:n.tokens.tokens,owner:ie(n.ethrdid.didDocument),delegates:null===(e=n.ethrdid.didDocument.authentication)||void 0===e?void 0:e.filter((function(n){return!n.publicKey.endsWith("controller")}))}}),(function(n){return{changeOwner:function(e,t){return n(function(n,e){return function(t){return new Promise((function(c,r){w(n).then((function(a){var i=Object(x.a)(a,2),o=i[0],s=i[1];return new z.a({address:o,provider:n,registry:R(parseInt(s))}).changeOwner(e.toLowerCase()).then((function(){return c(t(Y(n)))})).catch((function(n){return r(n)}))}))}))}}(e,t))},addDelegate:function(e,t){return n(function(n,e){return function(t){return new Promise((function(c,r){w(n).then((function(a){var i=Object(x.a)(a,2),o=i[0],s=i[1];return new z.a({address:o,provider:n,registry:R(parseInt(s))}).addDelegate(e,{delegateType:"0x73696741757468"}).then((function(e){t(Y(n)),c(e)})).catch((function(n){return r(n)}))}))}))}}(e,t))},addCustomToken:function(e,t,c,r){return n(bn(e,t,c,r))}}}),(function(n,e,t){return Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},n),e),t),{},{addCustomToken:function(t,c){return e.addCustomToken(t,n.address,c,n.chainId)}})}))(ae),se=t.p+"static/media/powered-by-iov.a0397e40.svg",de=t.p+"static/media/powered-by-iov-gray.e25db553.svg",ue=function(n){var e=n.isLoggedIn,t=n.version;return Object(c.jsxs)("footer",{className:"app-footer",children:[Object(c.jsx)("img",{src:e?de:se,alt:"Powered By IOV"}),Object(c.jsx)("p",{children:"Copyright \xa9 2020 IOV Labs. All rights reserved."}),Object(c.jsxs)("p",{children:["Version ",t]})]})},le=function(){var n=Object(r.useContext)(Un),e=null===n||void 0===n?void 0:n.provider;return Object(c.jsxs)("div",{className:e?"app loggedin":"app login",children:[e?Object(c.jsx)(oe,{}):Object(c.jsx)(jn,{context:n}),Object(c.jsx)(ue,{isLoggedIn:e,version:s.a})]})},be=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,680)).then((function(e){var t=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,i=e.getTTFB;t(n),c(n),r(n),a(n),i(n)}))},je=t(17),he=t(78),fe=t(297),pe=[he.a,Object(fe.createLogger)()],Oe=Object(je.c)({identity:V,ethrdid:H,tokens:on}),xe=function(n){return Object(je.e)(Oe,n,je.a.apply(void 0,pe))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(u.a,{store:xe(),children:Object(c.jsx)(Mn,{children:Object(c.jsx)(le,{})})})}),document.getElementById("root")),be()}},[[678,1,2]]]);
//# sourceMappingURL=main.f830a860.chunk.js.map